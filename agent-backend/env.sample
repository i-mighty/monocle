# AgentPay Backend Configuration

# Environment (development | production)
# Demo endpoints are disabled when NODE_ENV=production
NODE_ENV=development

# Allow demo/test endpoints in production (not recommended)
# Set to 'true' only for staging environments that need demo endpoints
ALLOW_DEMO_ENDPOINTS=false

# Server Port
PORT=3001

# PostgreSQL Database Connection
# Format: postgres://username:password@hostname:port/databasename
DATABASE_URL=postgres://postgres:password@localhost:5432/agentpay

# Solana RPC Endpoint (devnet or mainnet-beta)
SOLANA_RPC=https://api.devnet.solana.com

# Solana Payer Keypair (base58 or JSON array from solana-keygen)
# Generate with: solana-keygen new --outfile payer.json
# Then: cat payer.json to get the array
SOLANA_PAYER_SECRET=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# API Authentication Key (legacy - used by SDK to authenticate requests)
# For production, use the new API key management system via /v1/api-keys
AGENTPAY_API_KEY=test_key_12345

# Encryption key for sensitive log data (32 bytes, base64 encoded)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
# If not set, a key will be derived from AGENTPAY_API_KEY (not recommended for production)
LOG_ENCRYPTION_KEY=

# JWT Secret for token signing (if implementing JWT in future)
JWT_SECRET=replace_me_with_a_random_string_min_32_chars

# =============================================================================
# RATE LIMITING
# =============================================================================

# Global rate limit (requests per minute per IP)
RATE_LIMIT_GLOBAL=100

# Authenticated rate limit (requests per minute per API key)
RATE_LIMIT_AUTHENTICATED=60

# Sensitive endpoint rate limit (payments, settlements)
RATE_LIMIT_SENSITIVE=10
